{% extends "dashboard_base.html" %}
{% load static extras %}
{% get_media_prefix as MEDIA_URL %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow rounded-3" style="max-width: 600px; margin: auto;">
    <div class="card-body">
      <h2 class="card-title">{{ object }}</h2>
        {% if object.profile_image %}
        <img src="{{ MEDIA_URL }}{{ object.profile_image.url }}"
              class="rounded-circle border"
              style="
                width: 80px;
                height: 80px;
                object-fit: contain;
                background: #f8f9fa;
              "/>
        {% elif object.image %}
        <img src="{{ MEDIA_URL }}{{ object.image }}"
              class="rounded-circle border"
              style="
                width: 80px;
                height: 80px;
                object-fit: contain;
                background: #f8f9fa;
              "/>
        {% endif %}
      <a href="{% url edit_url_name object.id %}" class="btn btn-primary">Edit</a>
      <dl class="row">
        {% for field in display_fields %}
          <dt class="col-sm-4">{{ field.verbose_name|capfirst }}</dt>
          <dd class="col-sm-8">
            {% with value=object|getattribute:field.name %}
              {% if value is None %}
                <span class="text-muted">â€”</span>
              {% else %}
                {{ value }}
              {% endif %}
            {% endwith %}
          </dd>
        {% endfor %}
      </dl>
      <div class="text-muted small">
        Created: {{ object.created_at }}<br>
        Updated: {{ object.updated_at }}
      </div>
    </div>
  </div>
</div>
{% endblock %}
